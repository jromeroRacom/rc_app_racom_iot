<section class="content">
	<div class="container-fluid">
    <mat-toolbar>
      <button mat-icon-button (click)="backClicked()"> <mat-icon class="mat-18">arrow_back</mat-icon> </button>
      <span class="spacer"></span>
      <h2 class="mt-1"> <span><i class="ti-user"></i></span> Mi Cuenta </h2>
    </mat-toolbar>
		<hr>

		<div class="row clearfix">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<div class="card">
					<div class="header">
						<div class="col-xs-12 col-sm-6">
							<h2>
								<strong>General</strong></h2>
						</div>
					</div>
					<div class="body">
						<div class="row">
							<div class="col-md-12">
								<div class="card border-apply">
									<div class="m-b-20">
										<div class="contact-grid">
											<div class="profile-header" [ngClass]="selectedBgColor">
												<div class="user-name">BIENVENIDO</div>
												<div class="name-center">NOMBRE DE USUARIO</div>
											</div>
											<img src="assets/images/usrbig.png" class="user-img" alt="">
											<form class="register-form m-4" [formGroup]="accountForm" (ngSubmit)="onSubmit()">

                        <div *ngFor="let error of listErrors.errors" class="alert alert-danger  mb-3 mt-0">
                          {{error.msg}}
                        </div>

												<div class="row">
													<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
														<mat-form-field class="example-full-width" appearance="outline">
															<mat-label>Nombre</mat-label>
															<input autocomplete="name" matInput formControlName="name" required>
															<mat-icon matSuffix>face</mat-icon>
															<mat-error *ngIf="formValidators.fieldValidate('name')">
																{{formValidators.getError('name')}}
															</mat-error>
														</mat-form-field>
													</div>

													<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
														<mat-form-field class="example-full-width" appearance="outline">
															<mat-label class="title">Email</mat-label>
															<input autocomplete="email" matInput formControlName="email" required>
															<mat-icon matSuffix>email</mat-icon>
															<mat-error *ngIf="formValidators.fieldValidate('email')">
																Ingresa una dirección de correo valida
															</mat-error>
														</mat-form-field>
													</div>
												</div>

												<div class="row">
													<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
														<mat-form-field class="example-full-width" appearance="outline">
															<mat-label>Contraseña Actual</mat-label>
															<input autocomplete="current-password" matInput formControlName="password"
                              type= 'password' required>

															<mat-icon matSuffix >vpn_key</mat-icon>
															<mat-error *ngIf="formValidators.fieldValidate('password')">
																{{formValidators.getError('password')}}
															</mat-error>
														</mat-form-field>
													</div>
												</div>

												<div class="row" >
													<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 mb-2">
														<mat-form-field class="example-full-width" appearance="outline">
															<mat-label>Contraseña Nueva</mat-label>
															<input autocomplete="new-password" matInput formControlName="passwordNew"
																[type]="hide ? 'password' : 'text'" required>
															<mat-icon matSuffix disabled *ngIf="!flagEditPass">visibility_off</mat-icon>
															<mat-icon matSuffix *ngIf="flagEditPass" (click)="hide = !hide">
																{{hide ? 'visibility_off' : 'visibility'}}
															</mat-icon>
															<mat-error *ngIf="formValidators.fieldValidate('passwordNew')">
																{{formValidators.getError('passwordNew')}}
															</mat-error>
														</mat-form-field>
													</div>

													<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 mb-2">
														<mat-form-field class="example-full-width" appearance="outline">
															<mat-label>Repita contraseña nueva</mat-label>
															<input autocomplete="new-password" matInput formControlName="passwordNew2"
																[type]="chide ? 'password' : 'text'" required>
                                <mat-icon matSuffix disabled *ngIf="!flagEditPass">visibility_off</mat-icon>
                                <mat-icon matSuffix *ngIf="flagEditPass" (click)="chide = !chide">
                                  {{chide ? 'visibility_off' : 'visibility'}}
                                </mat-icon>
																<mat-error *ngIf="formValidators.comparePasswords('passwordNew', 'passwordNew2')">
																	Las contraseñas no coinciden
																</mat-error>
														</mat-form-field>
													</div>
												</div>

												<div class="row">
													<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
															<mat-checkbox class="example-margin" formControlName="showEmail">
																Editar email
															</mat-checkbox>
                              <mat-checkbox class="example-margin" formControlName="showPass">
																Editar contraseña
															</mat-checkbox>
													</div>
												</div>

												<div class="row">
													<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
															<button class="mr-3" [disabled]="!accountForm.valid" mat-raised-button
																	color="primary">Guardar</button>
															<button type="button" mat-button>Cancelar</button>
													</div>
											</div>

											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row clearfix">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<div class="card">
					<div class="header">
						<div class="col-xs-12 col-sm-6">
							<h2>
								<strong>Zona De Peligro</strong></h2>
						</div>
					</div>
					<div class="body">
            <div *ngFor="let error of listErrors2.errors" class="alert alert-danger  mb-3 mt-0">
              {{error.msg}}
            </div>

						<div class="alert alert-danger">
							<strong>CUIDADO</strong> Estas opciónes no se pueden revertir
						</div>

						<div class="row">
							<div class="col-md-12">
									<div class="m-b-20">

										<div class="row justify-content-center">
											<strong class="col-lg-3" >Borrar dispositivos</strong>
											<button class="col-lg-3" mat-raised-button color="warn" (click)="deleteDevices()">  <mat-icon>delete</mat-icon>Borrar</button>
										</div>

										<div class="row justify-content-center">
											<strong class="col-lg-3" >Deshabilitar Cuenta</strong>
											<button class="col-lg-3" mat-raised-button color="warn" (click)="deleteAcount()">  <mat-icon>delete</mat-icon>Borrar</button>
										</div>
									</div>
							</div>
						</div>


					</div>
				</div>
			</div>
		</div>
	</div>
</section>
